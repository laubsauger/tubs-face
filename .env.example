# Gemini API key (required for conversational replies)
GEMINI_API_KEY=your_gemini_api_key_here

# Any supported Gemini model name for generateContent.
# Examples: gemini-2.5-flash, gemini-2.5-flash-lite
GEMINI_MODEL=gemini-3-flash-preview

# Keep this low for conservative token usage.
GEMINI_MAX_OUTPUT_TOKENS=256

LANGFUSE_SECRET_KEY = ""
LANGFUSE_PUBLIC_KEY = ""
LANGFUSE_BASE_URL = "https://us.cloud.langfuse.com"

# Startup processing mode:
# - legacy: current Node + Python (Whisper/Kokoro/system) stack
# - realtime: dedicated realtime processing service (separate STT/TTS/LLM path)
PROCESSING_MODE=legacy

# Realtime processing service settings (used when PROCESSING_MODE=realtime)
REALTIME_PROCESSING_PORT=3002
REALTIME_STT_MODEL=small
REALTIME_STT_BACKEND=mlx
REALTIME_TTS_BACKEND=kokoro
REALTIME_KOKORO_VOICE=hm_omega
REALTIME_LLM_PROVIDER=ollama
# Required for realtime conversational mode:
# set this to an installed Ollama model name from `ollama list`
REALTIME_LLM_MODEL=
REALTIME_LLM_BASE_URL=http://127.0.0.1:11434
REALTIME_OPENAI_BASE_URL=https://api.openai.com/v1
# Required only if REALTIME_LLM_PROVIDER=openai
OPENAI_API_KEY=

# Optional: dedicated model for dual-head turn_script generation.
# If unset, dual-head uses llmModel / REALTIME_LLM_MODEL.
DUAL_HEAD_LLM_MODEL=
# Optional dual-head generation temperature (default: 0.25).
DUAL_HEAD_TEMPERATURE=0.25


# Optional assistant memory aging (milliseconds).
# Conversation/history context older than this is dropped.
ASSISTANT_HISTORY_TTL_MS=240000
# Stored user facts older than this are dropped.
ASSISTANT_MEMORY_TTL_MS=360000
# Delay before clearing assistant conversation context after presence is lost.
PRESENCE_CONTEXT_CLEAR_DELAY_MS=60000
# Minimum gap between presence-triggered context clear operations.
PRESENCE_CONTEXT_CLEAR_COOLDOWN_MS=15000

# Optional USD pricing used for session cost estimation.
# Set to 0 to disable cost estimation.
GEMINI_INPUT_COST_PER_MTOKENS=0.1
GEMINI_OUTPUT_COST_PER_MTOKENS=0.5

# Donation identity for Tubs mission persona.
DONATION_VENMO=TubsBot
DONATION_QR_DATA=https://venmo.com/u/TubsBot

# Donation trigger behavior:
# - both: implied text intent + confident webhook/manual confirms
# - implied: only text intent
# - confident: only webhook/manual confirms
# - off: disable donation-triggered joy reaction
DONATION_SIGNAL_MODE=both

# Optional shared token required by /donations/confirm and /webhooks/paypal
# via either X-Donation-Token or Authorization: Bearer <token>.
DONATION_WEBHOOK_TOKEN=

# Optional PayPal Checkout integration (for confident donation capture events).
# Set PAYPAL_ENV to "sandbox" or "live".
PAYPAL_ENV=sandbox
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_DEFAULT_DONATION_AMOUNT=5.00

# Optional Whisper model override for STT service.
WHISPER_MODEL=small

# Ignore faces whose bounding box area is below this fraction of the camera frame.
# Increase to focus on closer subjects only. Set 0 to disable.
MIN_FACE_BOX_AREA_RATIO=0.02
